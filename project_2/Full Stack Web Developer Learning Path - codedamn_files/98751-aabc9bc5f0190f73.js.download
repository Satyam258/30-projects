"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98751],{35015:function(e,t,n){n.d(t,{_:function(){return o}});var r=n(80834);r.z.object({eventType:r.z.literal("fermion-lab-run-finished"),data:r.z.object({status:r.z.literal("ok"),totalChallengesCount:r.z.number(),passedChallengesCount:r.z.number(),failedChallengesCount:r.z.number()}).or(r.z.object({status:r.z.literal("error"),errorMessage:r.z.string()}))});let o=e=>{try{window.parent.postMessage(e,"*")}catch(e){console.error("Failed to postMessage to window.parent",e)}}},76429:function(e,t,n){n.d(t,{Y:function(){return G}});var r=n(97458),o=n(63601),a=n(52983),i=n(82076),l=n(49299),s=n(39679),u=n.n(s),c=n(26667),d=n(73236),f=n(82112),p=n(87942),g=n(16982),y=()=>{let e=(0,l.default)(e=>e.closeHelperVideo),t=(0,l.default)(e=>e.writeProperty),n=(0,l.default)(e=>{var t;return null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.variantSpecificData});(0,g.k)((null==n?void 0:n.type)==="coding-lab-backend-playground","must be coding lab");let{height:i,width:s}=(0,p.Z)(),y=n.activeLabDetails.helperVideos,m=n.activeLabDetails.helperVideoCaptions,b=(0,a.useRef)(null),h=(0,a.useRef)(null),v=(0,a.useState)(()=>Date.now())[0],[w,S]=(0,a.useState)({transform:"translate(30px, 30px)",expanded:!0}),D="justify-center z-[9999999] items-center fixed flex ".concat(w.expanded?"top-20 bottom-20 right-2 left-2 lg:left-48 lg:right-48":"w-[25rem] h-[13.5rem]");return((0,a.useEffect)(()=>{function e(e){"Escape"===e.key&&S((0,o.U)(e=>{e.expanded=!1}))}return document.addEventListener("keyup",e,!1),()=>{document.removeEventListener("keyup",e,!1)}},[]),0===y.length)?null:(0,r.jsx)("div",{id:"video-player-expanded-backdrop",ref:b,onClick:function(e){if(b.current===e.target||h.current===e.target){var t;null===(t=h.current)||void 0===t||t.setAttribute("style","transform: ".concat(w.transform)),S((0,o.U)(e=>{e.expanded=!1}))}},className:"left-0 top-0 z-[999999999] h-full w-full ".concat(w.expanded?"bg-black bg-opacity-60":"pointer-events-none"," ").concat("yes"===e?"hidden":"fixed"),children:(0,r.jsx)(u(),{disabled:w.expanded,bounds:{left:0,top:0,right:null!=s?s:0,bottom:null!=i?i:0},handle:"#drag-icon",children:(0,r.jsx)("div",{className:D,ref:h,children:(0,r.jsxs)("div",{className:"pointer-events-auto relative z-[9999999] flex w-full flex-col overflow-hidden border-2 border-gray-800 bg-gray-800 shadow",children:[w.expanded?null:(0,r.jsxs)("div",{className:"relative flex space-x-2 bg-gray-800 px-2 py-1.5 text-white",children:[(0,r.jsx)("div",{className:"relative z-20 flex h-4 w-4 cursor-pointer items-center justify-center rounded-full bg-red-500 text-[0.675em] text-black hover:opacity-75 active:opacity-50",onClick:e=>{e.stopPropagation();let n=document.querySelector("#video-root-node video");n&&n.pause(),t({closeHelperVideo:"yes"})},children:(0,r.jsx)(c.oHP,{})}),(0,r.jsx)("div",{className:"relative z-20 flex h-4 w-4 cursor-pointer items-center justify-center rounded-full bg-green-500 text-[0.675em] text-black hover:opacity-75 active:opacity-50",onClick:e=>{e.stopPropagation(),function(){var e,t;let n=null===(e=h.current)||void 0===e?void 0:e.style.transform;null===(t=h.current)||void 0===t||t.setAttribute("style","transform: none"),S((0,o.U)(e=>{e.expanded=!0,e.transform=n||"none"}))}()},children:(0,r.jsx)(d.$4j,{})}),(0,r.jsx)("div",{id:"drag-icon",className:"absolute left-0 top-0 z-10 h-full w-full cursor-grab"})]}),(0,r.jsx)("div",{className:"aspect-h-9 aspect-w-16 relative",children:(0,r.jsx)(f.Y,{floatEmbed:!0,floatEmbedActive:!w.expanded,sourcesMemoized:y,captionsMemoized:m},v)})]})})})})},m=n(28671),b=n(24715),h=n.n(b),v=n(81243),w=n(99600),S=n(40518),D=n(95181),x=n(62883),j=n(51389),P=n(17454),O=n(63519),k=n(96230),M=n(14517),N=n(95395),C=n(37126),E=n(3384),T=n(42016),_=n(49335);let L="user",A="add-project-submission";"".concat(L,"-").concat(A);let I=e=>({context:{namespace:L,functionName:A},data:e}),U=async e=>{let t;let n=I(e),r=(0,_.R9)()||null,o=(0,_.Qv)()||null,a=(0,k.gc)()||null;try{t=await E.ZP.request({method:"POST",baseURL:(0,T.hV)(),data:{organizationId:r,fermionSchoolId:o,authToken:a,data:[n]}}).then(e=>e.data).then(e=>{var t;return(null===(t=e.at(0))||void 0===t?void 0:t.output)||null})}catch(e){throw{errorMessage:(null==e?void 0:e.message)||"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!0}}if(!t)throw{errorMessage:"Something went wrong while making this request. Please try again or contact support@codedamn.com",isNetworkError:!1};if("ok"===t.status)return t.data;throw{...t,isNetworkError:!1}},R=async e=>{let{data:t,forceOverrideAuthToken:n,shouldEnableBatching:r=!0}=e;if(!r)return await U(t);{let e=I(t),r=(0,T.NZ)(t),o=(0,_.R9)()||null,a=(0,_.Qv)()||null,i=n||(0,k.gc)()||null;return await T.CX.fetch({batchingUniqueKey:r,organizationId:o,fermionSchoolId:a,authToken:i,data:e}).then(e=>e)}},X=async e=>{let{data:t,forceOverrideAuthToken:n,shouldEnableBatching:r=!0}=e;try{let e=await R({data:t,shouldEnableBatching:r,forceOverrideAuthToken:n});return{status:"ok",data:e}}catch(e){return{status:"error",errorMessage:(0,T.Lr)(e).errorMessage}}};var Y=n(82317),z=n(3752),W=n(73889),B=n(72688),F=n(37710);let V=h()(()=>Promise.all([n.e(62782),n.e(53505),n.e(21529)]).then(n.bind(n,77113)).then(e=>e.default),{loadableGenerated:{webpack:()=>[77113]},ssr:!1}),H=h()(()=>Promise.resolve().then(n.bind(n,54405)).then(e=>e.default),{loadableGenerated:{webpack:()=>[54405]},ssr:!1}),G=()=>{(0,w.Z)();let e=(0,l.default)(e=>{var t,n;return null===(n=e.parentPropsMandatoryData)||void 0===n?void 0:null===(t=n.variantSpecificData)||void 0===t?void 0:t.type}),t=(0,l.default)(e=>{var t;return null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.isDefaultPlaygroundHeaderVisible}),n=(0,l.default)(e=>{var t;return null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.mountedBlockHeightInPixels});(0,g.k)("coding-lab-backend-playground"===e,"variantSpecificData must be coding-lab-backend-playground before rendering this component");let s=(0,l.default)(e=>{var t;return null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.userLoggedInState}),u=(0,l.default)(e=>{var t;return(null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.variantSpecificData.type)==="coding-lab-backend-playground"&&e.parentPropsMandatoryData.variantSpecificData.shouldAttemptConnectionIfAnonymous});(0,g.k)(s,"userLoggedInState must exist");let c=(0,l.default)(e=>e.playgroundContainerState),d=(0,l.default)(e=>e.deployedIdeType),f=(0,l.default)(e=>e.writeProperty),p=(0,l.default)(e=>e.isLimitExceeded),b=(0,l.default)(e=>e.isVpnFound),h=(0,l.default)(e=>{var t,n;return((null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.variantSpecificData.subtype)==="course-codedamn"||(null===(n=e.parentPropsMandatoryData)||void 0===n?void 0:n.variantSpecificData.subtype)==="course-fermion")&&e.parentPropsMandatoryData.variantSpecificData.isCoursePreviewMode}),E=(0,l.default)(e=>{var t,n;return(null===(t=e.parentPropsMandatoryData)||void 0===t?void 0:t.variantSpecificData.type)==="coding-lab-backend-playground"?null===(n=e.parentPropsMandatoryData)||void 0===n?void 0:n.variantSpecificData.activeLabDetails.codingLabExtraData.codingLabType:null}),T="unknown"===s?"unknown":h||"unauthorized"!==s?"invisible":"visible";(0,a.useEffect)(()=>{"Io"===E?f((0,o.U)(e=>{e.playgroundMountedBlocks.delete("terminal")})):f((0,o.U)(e=>{e.playgroundMountedBlocks.add("terminal")}))},[E,f]);let _=(0,a.useRef)(!1);(0,a.useEffect)(()=>{"unknown"!==s&&("unauthorized"!==s||u)&&"invisible"===T&&(_.current||(_.current=!0,(0,j.setPlaygroundSessionDetailsFromBackendIntoZustand)({isUserAuthorized:"authorized"===s})))},[s,T,u]);let L=(0,v.v)();(0,a.useEffect)(()=>{L.isMobilePlatform?f({deployedIdeType:"codemirror"}):f({deployedIdeType:"monaco"})},[L,f]),(0,a.useEffect)(()=>{window.__changeIoLabActiveLanguage=async e=>{f((0,o.U)(t=>{var n;(0,g.k)((null===(n=t.parentPropsMandatoryData)||void 0===n?void 0:n.variantSpecificData.type)==="coding-lab-backend-playground");let r=t.parentPropsMandatoryData.variantSpecificData.activeLabDetails.codingLabExtraData;(0,g.k)((null==r?void 0:r.codingLabType)==="Io"),r.ioLabData.activeIoLabLanguage=e}));let{closeAllVsCodeDocuments:t}=P.default.getState();await t()},window.__restoreCustomSolution=async e=>{let t=JSON.parse(e),n=x.default.getState().playgroundWebSocket.storeFileIntoContainer,{closeAllVsCodeDocuments:r}=P.default.getState();await r(),await Promise.all(t.map(async e=>{await n({body:new Blob([e.contents]),fullPath:(0,m.aF)(e.name)})})),f((0,o.U)(e=>{let t=e.editorState;t.openTabsLocalPaths=new Set,t.activeTabLocalPath=null,t.files.forEach(e=>{e.lastModifiedByUserTimestamp=new Date,e.type="unknown"})}))},window.__restoreSolvedLab=async()=>{var e;let t=l._usePlaygroundStoreRaw.getState();(0,g.k)((null===(e=t.parentPropsMandatoryData)||void 0===e?void 0:e.variantSpecificData.type)==="coding-lab-backend-playground");let n=await (0,O.ij)({data:{codingLabId:t.parentPropsMandatoryData.variantSpecificData.activeLabDetails.labUniqueId}});if("ok"!==n.status||"ok"!==n.data.response.status)return;let r=x.default.getState().playgroundWebSocket.storeFileIntoContainer,{closeAllVsCodeDocuments:a}=P.default.getState();await a();let i=await fetch(n.data.response.signedSolutionZipFileUrl).then(e=>e.blob());await (0,k.Ny)("https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js");let s=new window.JSZip,u=await s.loadAsync(i),c=[];for(let e in u.files){let t=await u.files[e].async("string");c.push({name:e,contents:t})}await Promise.all(c.map(async e=>{await r({body:new Blob([e.contents]),fullPath:(0,m.aF)(e.name)})})),f((0,o.U)(e=>{let t=e.editorState;t.openTabsLocalPaths=new Set,t.activeTabLocalPath=null,t.files.forEach(e=>{e.lastModifiedByUserTimestamp=new Date,e.type="unknown"})}))},window.__getFileContents=async e=>{let t=x.default.getState().playgroundWebSocket.fetchFileFromContainer,n=await t({fullPath:e});if("ok"===n.status)return"utf-8"===n.type?n.data:null}},[f]);let A=(0,l.default)(e=>e.isProjectSubmissionModalOpen),[I,U]=(0,a.useState)(!1);if(b)return(0,r.jsx)(C.W,{});if(p)return(0,r.jsx)(N.O,{});async function R(){var e;let t=null===(e=l._usePlaygroundStoreRaw.getState().parentPropsMandatoryData)||void 0===e?void 0:e.variantSpecificData;(0,g.k)((null==t?void 0:t.type)==="coding-lab-backend-playground"&&(null==t?void 0:t.subtype)==="coding-project","Must be project");let n=t.projectDetails;U(!0);let r=await X({data:{communityFeedback:"",projectSlug:n.slug}});if("error"===r.status)(0,z.A)(r.errorMessage);else{let e=r.data.submissionUniqueId;(0,z.GO)("Project submitted successfully!"),t.onProjectSubmitted({projectSubmissionId:e})}}return(0,r.jsxs)("div",{id:"codedamn-coding-playground",className:(0,M.default)("flex flex-col","full-screen"===n?"h-screen":""),style:"full-screen"!==n&&null!=n&&n>0?{height:"".concat(n,"px")}:void 0,children:[(0,r.jsx)("span",{"data-playground-state":c,className:"pointer-events-none fixed h-0 w-0"}),t?(0,r.jsx)(S.Z,{}):null,"codemirror"===d?(0,r.jsx)(V,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h,{embeddedLoginFormState:T}),"visible"===T?null:(0,r.jsx)(H,{}),"monaco"===d?(0,r.jsx)("div",{className:"flex bg-gray-900 flex-shrink-0 items-center justify-between border-t border-gray-700 text-xs text-white",children:(0,r.jsx)(D.Z,{})}):null,(0,r.jsx)(y,{})]}),(0,r.jsx)(i.Z,{}),(0,r.jsx)(Y.P,{open:A,onClose:()=>{f({isProjectSubmissionModalOpen:!1})},className:"max-w-xl bg-gray-900 p-0 ring-1 ring-gray-800",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,r.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100/10 sm:mx-0 sm:h-10 sm:w-10",children:(0,r.jsx)(B.fC0,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,r.jsx)(W.$N,{as:"h3",className:"text-lg font-medium leading-6 text-white",children:"Submit Project"}),(0,r.jsx)("p",{className:"mt-1 text-sm leading-relaxed text-gray-300",children:"Publish your progress and ask the community for relevant feedback to make the most of your submission."})]})]})}),(0,r.jsxs)("div",{className:"bg-gray dark flex flex-col gap-3 bg-gray-800 px-4 py-3 sm:flex-row-reverse sm:px-6",children:[(0,r.jsx)(F.z,{"data-testid":"project-submit-btn",disabled:I,onClick:()=>{R().catch(console.error)},children:"Submit Project"}),(0,r.jsx)(F.z,{disabled:I,onClick:()=>{f({isProjectSubmissionModalOpen:!1})},children:"Cancel"})]})]})})]})}},19914:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(52983)),a=g(n(7862)),i=g(n(63730)),l=g(n(14517)),s=n(81779),u=n(83641),c=n(36932),d=g(n(97140)),f=g(n(15283)),p=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(g,e);var t,n,a,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(g);if(t){var o=x(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function g(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,g),j(D(t=c.call(this,e)),"onDragStart",function(e,n){if((0,f.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,u.createDraggableData)(D(t),n)))return!1;t.setState({dragging:!0,dragged:!0})}),j(D(t),"onDrag",function(e,n){if(!t.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",n);var r=(0,u.createDraggableData)(D(t),n),o={x:r.x,y:r.y};if(t.props.bounds){var a,i=o.x,l=o.y;o.x+=t.state.slackX,o.y+=t.state.slackY;var s=function(e){if(Array.isArray(e))return e}(a=(0,u.getBoundPosition)(D(t),o.x,o.y))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(a,2)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],d=s[1];o.x=c,o.y=d,o.slackX=t.state.slackX+(i-o.x),o.slackY=t.state.slackY+(l-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-t.state.x,r.deltaY=o.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(o)}),j(D(t),"onDragStop",function(e,n){if(!t.state.dragging||!1===t.props.onStop(e,(0,u.createDraggableData)(D(t),n)))return!1;(0,f.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(t.props.position){var o=t.props.position,a=o.x,i=o.y;r.x=a,r.y=i}t.setState(r)}),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:h({},e.position),slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode() instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t?void 0:null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,i=t.defaultClassNameDragging,c=t.defaultClassNameDragged,f=t.position,g=t.positionOffset,y=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,p)),b={},v=null,w=!f||this.state.dragging,S=f||r,D={x:(0,u.canDragX)(this)&&w?this.state.x:S.x,y:(0,u.canDragY)(this)&&w?this.state.y:S.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(D,g):b=(0,s.createCSSTransform)(D,g);var x=(0,l.default)(n.props.className||"",a,(j(e={},i,this.state.dragging),j(e,c,this.state.dragged),e));return o.createElement(d.default,m({},y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(n),{className:x,style:h(h({},n.props.style),b),transform:v}))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return n&&(!r||n.x!==r.x||n.y!==r.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:h({},n)}):null}}],n&&w(g.prototype,n),a&&w(g,a),Object.defineProperty(g,"prototype",{writable:!1}),g}(o.Component);t.default=P,j(P,"displayName","Draggable"),j(P,"propTypes",h(h({},d.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),j(P,"defaultProps",h(h({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},97140:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}(n(52983)),a=d(n(7862)),i=d(n(63730)),l=n(81779),s=n(83641),u=n(36932),c=d(n(15283));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},S=w.mouse,D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(d,e);var t,n,a,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(d);if(t){var o=h(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(b(e=u.call.apply(u,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),v(b(e),"mounted",!1),v(b(e),"handleDragStart",function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,l.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,l.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,l.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var a=(0,s.getControlPosition)(t,o,b(e));if(null!=a){var i=a.x,u=a.y,d=(0,s.createCoreData)(b(e),i,u);(0,c.default)("DraggableCore: handleDragStart: %j",d),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:i,lastY:u}),(0,l.addEvent)(r,S.move,e.handleDrag),(0,l.addEvent)(r,S.stop,e.handleDragStop))}}}),v(b(e),"handleDrag",function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,i=o-e.state.lastY,l=p((0,s.snapToGrid)(e.props.grid,a,i),2);if(a=l[0],i=l[1],!a&&!i)return;r=e.state.lastX+a,o=e.state.lastY+i}var u=(0,s.createCoreData)(b(e),r,o);if((0,c.default)("DraggableCore: handleDrag: %j",u),!1===e.props.onDrag(t,u)||!1===e.mounted){try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}return}e.setState({lastX:r,lastY:o})}}),v(b(e),"handleDragStop",function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,b(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX||0,i=o-e.state.lastY||0,u=p((0,s.snapToGrid)(e.props.grid,a,i),2);a=u[0],i=u[1],r=e.state.lastX+a,o=e.state.lastY+i}var d=(0,s.createCoreData)(b(e),r,o);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var f=e.findDOMNode();f&&e.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(f.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),f&&((0,c.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(f.ownerDocument,S.move,e.handleDrag),(0,l.removeEvent)(f.ownerDocument,S.stop,e.handleDragStop))}}}),v(b(e),"onMouseDown",function(t){return S=w.mouse,e.handleDragStart(t)}),v(b(e),"onMouseUp",function(t){return S=w.mouse,e.handleDragStop(t)}),v(b(e),"onTouchStart",function(t){return S=w.touch,e.handleDragStart(t)}),v(b(e),"onTouchEnd",function(t){return S=w.touch,e.handleDragStop(t)}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,l.addEvent)(e,w.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,l.removeEvent)(t,w.mouse.move,this.handleDrag),(0,l.removeEvent)(t,w.touch.move,this.handleDrag),(0,l.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,l.removeEvent)(t,w.touch.stop,this.handleDragStop),(0,l.removeEvent)(e,w.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t?void 0:null===(n=t.nodeRef)||void 0===n?void 0:n.current:i.default.findDOMNode(this)}},{key:"render",value:function(){return o.cloneElement(o.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}],y(d.prototype,n),a&&y(d,a),Object.defineProperty(d,"prototype",{writable:!1}),d}(o.Component);t.default=D,v(D,"displayName","DraggableCore"),v(D,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),v(D,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},39679:function(e,t,n){var r=n(19914),o=r.default,a=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=a},81779:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=p,t.addEvent=function(e,t,n,r){if(e){var o=s({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},t.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&p(e.body,"react-draggable-transparent-selection")}},t.createCSSTransform=function(e,t){var n=f(e,t,"px");return u({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return f(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,o.findInArray)(e.changedTouches,function(e){return t===e.identifier})},t.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},t.getTranslation=f,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)break;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+((0,o.int)(n.borderTopWidth)+(0,o.int)(n.borderBottomWidth))},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+((0,o.int)(n.borderLeftWidth)+(0,o.int)(n.borderRightWidth))},t.removeClassName=g,t.removeEvent=function(e,t,n,r){if(e){var o=s({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},t.removeUserSelectStyles=function(e){if(e)try{if(e.body&&g(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var o=n(36932),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(o,l,s):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}(n(84447));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function d(e,t){return c||(c=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,o.isFunction)(e[t])})),!!(0,o.isFunction)(e[c])&&e[c](t)}function f(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function g(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},84447:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var a=null===(e=window.document)||void 0===e?void 0:null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!a||r in a)return"";for(var i=0;i<n.length;i++)if(o(r,n[i]) in a)return n[i];return""}function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=r();t.default=a},15283:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},83641:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var o=e.state,i=!(0,r.isNum)(o.lastX),l=a(e);return i?{node:l,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:l,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:{left:(s=i).left,top:s.top,right:s.right,bottom:s.bottom};var l=a(e);if("string"==typeof i){var s,u,c=l.ownerDocument,d=c.defaultView;if(!((u="parent"===i?l.parentNode:c.querySelector(i))instanceof d.HTMLElement))throw Error('Bounds selector "'+i+'" could not find an element.');var f=d.getComputedStyle(l),p=d.getComputedStyle(u);i={left:-l.offsetLeft+(0,r.int)(p.paddingLeft)+(0,r.int)(f.marginLeft),top:-l.offsetTop+(0,r.int)(p.paddingTop)+(0,r.int)(f.marginTop),right:(0,o.innerWidth)(u)-(0,o.outerWidth)(l)-l.offsetLeft+(0,r.int)(p.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,o.innerHeight)(u)-(0,o.outerHeight)(l)-l.offsetTop+(0,r.int)(p.paddingBottom)-(0,r.int)(f.marginBottom)}}return(0,r.isNum)(i.right)&&(t=Math.min(t,i.right)),(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,r.isNum)(i.left)&&(t=Math.max(t,i.left)),(0,r.isNum)(i.top)&&(n=Math.max(n,i.top)),[t,n]},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=a(n),l=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,l,n.props.scale)},t.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var r=n(36932),o=n(81779);function a(e){var t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}},36932:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}}}]);